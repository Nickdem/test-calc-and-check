{"version":3,"sources":["checkboxes.ts","checkboxes.js"],"names":["baseData","JSON","parse","localStorage","getItem","checkboxes","window","addEventListener","switchEl","document","querySelector","progress","toLocalStorage","mockData","checked","editor","style","display","makeCheckboxList","progressBar","dataArr","sectionEl","innerHTML","forEach","listItem","append","makeListItem","item","subListEl_1","btnEl_1","subListInputs_1","itemEl","createElement","wrapperEl","inputEl","labelEl","setAttribute","itemId","status","textContent","itemName","itemNew","newEl","classList","add","itemList","innerText","toggle","subItem","querySelectorAll","subListInput","idx","subListCheckedInputs","length","linkEl","itemLink","makeEditorItems","createBtnEl","makeEditorForm","push","baseEl","subListEl_2","inputLinkEl_1","value","saveBtnEl","delBtnEl","disabled","opacity","confirm","remove","filter","dataItem","baseSubEl","labelLinkEl","_i","baseData_1","dataSubItem","fillEl","progressValueEl","allSubCheckboxes","percent","Math","round","toString","width","setItem","stringify","timeString","Date","now"],"mappings":"aAWA,IAAIA,SAAsBC,KAAKC,MAAMC,aAAaC,QAAQ,YAAY,CAAC,EA0BjEC,YAxBNC,OAAOC,iBAAiB,mBAAoB,WAC1C,IAAMC,EAA6BC,SAASC,cAAc,eAAe,EACnEC,EAA2BF,SAASC,cAAc,WAAW,EAE9DV,UAEHY,eADAZ,SAAWa,QACY,EAGzBR,WAAU,EAEVG,EAASD,iBAAiB,SAAU,WAC9BC,EAASM,SACXC,OAAM,EACNJ,EAASK,MAAMC,QAAU,SAEzBZ,WAAU,EACVM,EAASK,MAAMC,QAAU,QAE7B,CAAC,CACH,CAAC,EAIkB,WACjBC,iBAAiBlB,QAAQ,EACzBmB,YAAW,CACb,GAEMD,iBAAmB,SAACE,GACxB,IAAMC,EAAYZ,SAASC,cAAc,mBAAmB,EAC5DW,EAAUC,UAAY,GACtBF,EAAQG,QAAQ,SAACC,GACfH,EAAUI,OAAOC,aAAaF,CAAQ,CAAC,CACzC,CAAC,CACH,EAEME,aAAe,SAACC,GACpB,IAsBQC,EAEAC,EAaAC,EArCFC,EAAStB,SAASuB,cAAc,IAAI,EACpCC,EAAYxB,SAASuB,cAAc,KAAK,EACxCE,EAAUzB,SAASuB,cAAc,OAAO,EAKxCG,GAJND,EAAQE,aAAa,OAAQ,UAAU,EACvCF,EAAQE,aAAa,KAAMT,EAAKU,MAAM,EACtCH,EAAQE,aAAa,OAAQT,EAAKU,MAAM,EACxCH,EAAQpB,QAAUa,EAAKW,OACP7B,SAASuB,cAAc,OAAO,GA8E9C,OA7EAG,EAAQC,aAAa,MAAOT,EAAKU,MAAM,EACvCF,EAAQI,YAAcZ,EAAKa,SAC3BP,EAAUR,OAAOS,EAASC,CAAO,EACjCJ,EAAON,OAAOQ,CAAS,EAEnBN,EAAKc,WACDC,EAAQjC,SAASuB,cAAc,MAAM,GACrCW,UAAUC,IAAI,KAAK,EACzBF,EAAMH,YAAc,MACpBR,EAAON,OAAOiB,CAAK,GAGjBf,EAAKkB,WACPd,EAAOY,UAAUC,IAAI,mBAAoB,MAAM,GACzChB,EAAYnB,SAASuB,cAAc,IAAI,GACnCW,UAAUC,IAAI,sBAAuB,2BAA2B,GACpEf,EAAQpB,SAASuB,cAAc,QAAQ,GACvCO,YAAc,WACpBV,EAAMc,UAAUC,IAAI,mBAAmB,EACvCf,EAAMtB,iBAAiB,QAAS,WAC9BsB,EAAMiB,UAA+B,YAAnBjB,EAAMiB,UAA0B,SAAW,WAC7DlB,EAAUe,UAAUI,OAAO,2BAA2B,CACxD,CAAC,EACDd,EAAUR,OAAOI,CAAK,EAEtBF,EAAKkB,SAAStB,QAAQ,SAACyB,GACrBpB,EAAUH,OAAOC,aAAasB,CAAO,CAAC,CACxC,CAAC,EAEKlB,EACJF,EAAUqB,iBAAiB,mBAAmB,EAEhDf,EAAQ3B,iBAAiB,SAAU,WACjCoB,EAAKW,OAASJ,EAAQpB,QAEtBgB,EAAcP,QAAQ,SAAC2B,EAAcC,GACnCxB,EAAKkB,SAASM,GAAKb,OAASJ,EAAQpB,QACpCoC,EAAapC,QAAUoB,EAAQpB,OACjC,CAAC,EAEDF,eAAeZ,QAAQ,EAEvBmB,YAAW,CACb,CAAC,EAEDW,EAAcP,QAAQ,SAAC2B,EAAcC,GACnCD,EAAa3C,iBAAiB,SAAU,WACtC,IAAM6C,EACJxB,EAAUqB,iBAAiB,eAAe,EAE5CtB,EAAKkB,SAASM,GAAKb,OAASY,EAAapC,QAErCgB,EAAcuB,QAAUD,EAAqBC,OAC/CnB,EAAQpB,QAAU,CAAA,EAGlBoB,EAAQpB,QAAU,CAAA,EAClBa,EAAKW,OAASJ,EAAQpB,QAExBF,eAAeZ,QAAQ,EAEvBmB,YAAW,CACb,CAAC,CACH,CAAC,EAEDY,EAAON,OAAOG,CAAS,GAGpBD,EAAKkB,WACRd,EAAOY,UAAUC,IAAI,qBAAqB,GACpCU,EAAS7C,SAASuB,cAAc,GAAG,GAClCO,YAAc,uBACrBe,EAAOlB,aAAa,OAAQT,EAAK4B,QAAQ,EACzCD,EAAOlB,aAAa,SAAU,QAAQ,EACtCH,EAAUR,OAAO6B,CAAM,GAGlBvB,CACT,EAIMhB,OAAS,WACbyC,gBAAgBxD,QAAQ,CAC1B,EAEMwD,gBAAkB,SAACpC,GACvB,IAAMC,EAAYZ,SAASC,cAAc,mBAAmB,EAMtD+C,GALNpC,EAAUC,UAAY,GACtBF,EAAQG,QAAQ,SAACC,GACfH,EAAUI,OAAOiC,eAAelC,CAAQ,CAAC,CAC3C,CAAC,EAEmBf,SAASuB,cAAc,QAAQ,GACnDyB,EAAYd,UAAUC,IAAI,aAAa,EACvCa,EAAYlB,YAAc,wBAE1BkB,EAAYlD,iBAAiB,QAAS,WACpCP,SAAS2D,KAAKC,OAAM,CAAE,EAEtBhD,eAAeZ,QAAQ,EAEvBe,OAAM,CACR,CAAC,EAEDM,EAAUI,OAAOgC,CAAW,CAC9B,EAEMC,eAAiB,SAAC/B,GACtB,IAuBQkC,EAgDAC,EAvEF/B,EAAStB,SAASuB,cAAc,IAAI,EACpCC,EAAYxB,SAASuB,cAAc,KAAK,EACxCE,EAAUzB,SAASuB,cAAc,OAAO,EAKxCG,GAJND,EAAQE,aAAa,OAAQ,MAAM,EACnCF,EAAQE,aAAa,KAAMT,EAAKU,MAAM,EACtCH,EAAQE,aAAa,OAAQT,EAAKU,MAAM,EACxCH,EAAQ6B,MAAQpC,EAAKa,SACL/B,SAASuB,cAAc,OAAO,GAGxCgC,GAFN7B,EAAQC,aAAa,MAAOT,EAAKU,MAAM,EACvCF,EAAQI,YAAc,YACJ9B,SAASuB,cAAc,QAAQ,GAK3CiC,GAJND,EAAUzB,YAAc,YACxByB,EAAUrB,UAAUC,IAAI,mBAAmB,EAC3CoB,EAAUE,SAAW,CAAA,EACrBF,EAAUhD,MAAMmD,QAAU,IACT1D,SAASuB,cAAc,QAAQ,GAwGhD,OAvGAiC,EAAStB,UAAUC,IAAI,QAAQ,EAC/BqB,EAAS1B,YAAc,UACvBN,EAAUR,OAAOU,EAASD,CAAO,EACjCH,EAAON,OAAOQ,CAAS,EAEnBN,EAAKkB,WACPd,EAAOY,UAAUC,IAAI,mBAAoB,MAAM,GACzCiB,EAAYpD,SAASuB,cAAc,IAAI,GACnCW,UAAUC,IAAI,qBAAqB,EAE7CV,EAAQ3B,iBAAiB,SAAU,WACjCyD,EAAUE,SAAW,CAAA,EACrBF,EAAUhD,MAAMmD,QAAU,GAC5B,CAAC,EAEDxC,EAAKkB,SAAStB,QAAQ,SAACyB,GACrBa,EAAUpC,OAAOiC,eAAeV,CAAO,CAAC,CAC1C,CAAC,EAEDgB,EAAUzD,iBAAiB,QAAS,WAClCoB,EAAKa,SAAWN,EAAQ6B,MACxBnD,eAAeZ,QAAQ,EACvBgE,EAAUE,SAAW,CAAA,EACrBF,EAAUhD,MAAMmD,QAAU,GAC5B,CAAC,EAEDF,EAAS1D,iBAAiB,QAAS,WACpB6D,QAAQ,aAAa,IAEhCrC,EAAOsC,OAAM,EACbrE,SAAWA,SAASsE,OAClB,SAACC,GAAa,OAAAA,EAASlC,SAAWV,EAAKU,MAAzB,CAA+B,EAG/CzB,eAAeZ,QAAQ,EAI3B,CAAC,EACD+B,EAAON,OAAOoC,CAAS,GACjBJ,EAAchD,SAASuB,cAAc,QAAQ,GACvCW,UAAUC,IAAI,aAAa,EACvCa,EAAYlB,YAAc,2BAC1BkB,EAAYlD,iBAAiB,QAAS,WACpCoB,EAAKkB,SAASc,KAAKa,UAAS,CAAE,EAE9B5D,eAAeZ,QAAQ,EAEvBe,OAAM,CACR,CAAC,EACDgB,EAAON,OAAOgC,CAAW,GAGtB9B,EAAKkB,WACRd,EAAOY,UAAUC,IAAI,qBAAqB,GACpCkB,EAAcrD,SAASuB,cAAc,OAAO,GACtCI,aAAa,OAAQ,MAAM,EACvC0B,EAAY1B,aAAa,KAAM,QAAUT,EAAKU,MAAM,EACpDyB,EAAY1B,aAAa,OAAQ,QAAUT,EAAKU,MAAM,EACtDyB,EAAYC,MAAQpC,EAAK4B,UACnBkB,EAAchE,SAASuB,cAAc,OAAO,GACtCI,aAAa,MAAO,QAAUT,EAAKU,MAAM,EACrDoC,EAAYlC,YAAc,UAC1BN,EAAUR,OAAOgD,EAAaX,CAAW,EAEzC5B,EAAQ3B,iBAAiB,SAAU,WACjCyD,EAAUE,SAAW,CAAA,EACrBF,EAAUhD,MAAMmD,QAAU,GAC5B,CAAC,EAEDL,EAAYvD,iBAAiB,SAAU,WACrCyD,EAAUE,SAAW,CAAA,EACrBF,EAAUhD,MAAMmD,QAAU,GAC5B,CAAC,EAEDH,EAAUzD,iBAAiB,QAAS,WAClCoB,EAAKa,SAAWN,EAAQ6B,MACxBpC,EAAK4B,SAAWO,EAAYC,MAC5BnD,eAAeZ,QAAQ,EACvBgE,EAAUE,SAAW,CAAA,EACrBF,EAAUhD,MAAMmD,QAAU,GAC5B,CAAC,EAEDF,EAAS1D,iBAAiB,QAAS,WAGjC,GAFa6D,QAAQ,aAAa,EAExB,CACRrC,EAAOsC,OAAM,EACb,IAAuB,IAAAK,EAAA,EAAAC,EAAA3E,SAAA0E,EAAAC,EAAAtB,OAAAqB,CAAA,GAAU,CAA5B,IAAMH,EAAQI,EAAAD,GACjBH,EAAS1B,SAAW0B,EAAS1B,SAASyB,OACpC,SAACM,GAAgB,OAAAA,EAAYvC,SAAWV,EAAKU,MAA5B,CAAkC,CAF5CkC,CAMX3D,eAAeZ,QAAQ,CAHpB,CAOP,CAAC,GAGHiC,EAAUR,OAAOuC,EAAWC,CAAQ,EAE7BlC,CACT,EAIMZ,YAAc,WAClB,IAAM0D,EAAyBpE,SAASC,cAAc,iBAAiB,EACjEoE,EAAkBrE,SAASC,cAAc,kBAAkB,EAC3DqE,EAAmBtE,SAASwC,iBAChC,wCAAwC,EAKpC+B,EAH0BvE,SAASwC,iBACvC,gDAAgD,EAGvBI,OAAS0B,EAAiB1B,OAAU,IAE/DyB,EAAgBvC,YAAc0C,KAAKC,MAAMF,CAAO,EAAEG,SAAQ,EAC1DN,EAAO7D,MAAMoE,MAAQJ,EAAQG,SAAQ,EAAK,GAC5C,EAIMvE,eAAiB,SAACP,GACtBF,aAAakF,QAAQ,aAAcpF,KAAKqF,UAAUjF,CAAU,CAAC,CAC/D,EAEMkF,WAAa,WACjB,OAAOC,KAAKC,IAAG,EAAGN,SAAQ,CAC5B,EAEMX,UAAY,WAAM,MAAC,CACvBhC,SAAU,mBACVH,OAAQ,QAAUkD,WAAU,EAC5BjD,OAAQ,CAAA,EACRiB,SAAU,0BACVd,QAAS,CAAA,CC5EX,CDuEwB,EAQlBmB,OAAS,WAAM,MAAC,CACpBpB,SAAU,mBACVH,OAAQ,KAAOkD,WAAU,EACzBjD,OAAQ,CAAA,EACRO,SAAU,CAAC2B,UAAS,GACpB/B,QAAS,CAAA,CALX,CAAqB,EAQf5B,SAAsB,CAC1B,CACE2B,SAAU,0BACVH,OAAQ,OACRC,OAAQ,CAAA,EACRO,SAAU,CACR,CACEL,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BANN,EAQN,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BAJZ,EAMA,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BAHF,EAKV,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BAFF,EAIV,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BADF,EAGV,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BAAF,EAEV,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BAEZ,EAAA,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,2BAGF,EADV,CACEf,SAAU,4BACVH,OAAQ,SACRC,OAAQ,CAAA,EACRiB,SAAU,4BACVd,QAAS,CAAA,CAID,EAFV,CACED,SAAU,6BACVH,OAAQ,UACRC,OAAQ,CAAA,EACRiB,SAAU,4BACVd,QAAS,CAAA,CAOL,EAERI,EAJF,CACEL,SAAU,gBACVH,OAAQ,MACRC,OAAQ,CAAA,EACRO,SAAU,CACR,CACEL,SAAU,kBACVH,OAAQ,QACRC,OAAQ,CAAA,EACRiB,SAAU,2BASF,EAPV,CACEf,SAAU,kBACVH,OAAQ,QACRC,OAAQ,CAAA,EACRiB,SAAU,2BAUF,EARV,CACEf,SAAU,kBACVH,OAAQ,QACRC,OAAQ,CAAA,EACRiB,SAAU,4BACVd,QAAS,CAAA,CAWD,EATV,CACED,SAAU,kBACVH,OAAQ,QACRC,OAAQ,CAAA,EACRiB,SAAU,2BAaN,EAXN,CACEf,SAAU,kBACVH,OAAQ,QACRC,OAAQ,CAAA,EACRiB,SAAU,4BACVd,QAAS,CAAA,CAcF,EAGPD,EAbN,CACEA,SAAU,wBACVH,OAAQ,WACRC,OAAQ,CAAA,EACRO,SAAU,CACR,CACEL,SAAU,0BACVH,OAAQ,aACRC,OAAQ,CAAA,EACRiB,SAAU,4BACVd,QAAS,CAAA,CAiBD,EAfV,CACED,SAAU,0BACVH,OAAQ,aACRC,OAAQ,CAAA,EACRiB,SAAU,2BAkBF,EAhBV,CACEf,SAAU,0BACVH,OAAQ,aACRC,OAAQ,CAAA,EACRiB,SAAU,2BC/EN,EDiFN,CACEf,SAAU,0BACVH,OAAQ,aACRC,OAAQ,CAAA,EACRiB,SAAU,2BC/EN,EDiFN,CACEf,SAAU,0BACVH,OAAQ,aACRC,OAAQ,CAAA,EACRiB,SAAU,2BC/EN,EAER","file":"checkboxes.min.js","sourcesContent":["type IBaseData = IBaseDataObject[];\n\ninterface IBaseDataObject {\n  itemName: string;\n  itemId: string;\n  status: boolean;\n  itemList?: IBaseDataObject[];\n  itemLink?: string;\n  itemNew?: boolean;\n}\n\nlet baseData: IBaseData = JSON.parse(localStorage.getItem(\"checkboxes\"));\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  const switchEl: HTMLInputElement = document.querySelector(\".switch input\");\n  const progress: HTMLDivElement = document.querySelector(\".progress\");\n\n  if (!baseData) {\n    baseData = mockData;\n    toLocalStorage(mockData);\n  }\n\n  checkboxes();\n\n  switchEl.addEventListener(\"change\", () => {\n    if (switchEl.checked) {\n      editor();\n      progress.style.display = \"none\";\n    } else {\n      checkboxes();\n      progress.style.display = \"block\";\n    }\n  });\n});\n\n// checkbox-list\n\nconst checkboxes = () => {\n  makeCheckboxList(baseData);\n  progressBar();\n};\n\nconst makeCheckboxList = (dataArr: IBaseData) => {\n  const sectionEl = document.querySelector(\".checkboxes__list\");\n  sectionEl.innerHTML = \"\";\n  dataArr.forEach((listItem) => {\n    sectionEl.append(makeListItem(listItem));\n  });\n};\n\nconst makeListItem = (item: IBaseDataObject) => {\n  const itemEl = document.createElement(\"li\");\n  const wrapperEl = document.createElement(\"div\");\n  const inputEl = document.createElement(\"input\");\n  inputEl.setAttribute(\"type\", \"checkbox\");\n  inputEl.setAttribute(\"id\", item.itemId);\n  inputEl.setAttribute(\"name\", item.itemId);\n  inputEl.checked = item.status;\n  const labelEl = document.createElement(\"label\");\n  labelEl.setAttribute(\"for\", item.itemId);\n  labelEl.textContent = item.itemName;\n  wrapperEl.append(inputEl, labelEl);\n  itemEl.append(wrapperEl);\n\n  if (item.itemNew) {\n    const newEl = document.createElement(\"span\");\n    newEl.classList.add(\"new\");\n    newEl.textContent = \"new\";\n    itemEl.append(newEl);\n  }\n\n  if (item.itemList) {\n    itemEl.classList.add(\"checkboxes__item\", \"item\");\n    const subListEl = document.createElement(\"ul\");\n    subListEl.classList.add(\"checkboxes__sublist\", \"checkboxes__sublist--hide\");\n    const btnEl = document.createElement(\"button\");\n    btnEl.textContent = \"Раскрыть\";\n    btnEl.classList.add(\"item__transparent\");\n    btnEl.addEventListener(\"click\", () => {\n      btnEl.innerText = btnEl.innerText == \"Раскрыть\" ? \"Скрыть\" : \"Раскрыть\";\n      subListEl.classList.toggle(\"checkboxes__sublist--hide\");\n    });\n    wrapperEl.append(btnEl);\n\n    item.itemList.forEach((subItem) => {\n      subListEl.append(makeListItem(subItem));\n    });\n\n    const subListInputs: NodeListOf<HTMLInputElement> =\n      subListEl.querySelectorAll('[type=\"checkbox\"]');\n\n    inputEl.addEventListener(\"change\", () => {\n      item.status = inputEl.checked;\n\n      subListInputs.forEach((subListInput, idx) => {\n        item.itemList[idx].status = inputEl.checked;\n        subListInput.checked = inputEl.checked;\n      });\n\n      toLocalStorage(baseData);\n\n      progressBar();\n    });\n\n    subListInputs.forEach((subListInput, idx) => {\n      subListInput.addEventListener(\"change\", () => {\n        const subListCheckedInputs =\n          subListEl.querySelectorAll(\"input:checked\");\n\n        item.itemList[idx].status = subListInput.checked;\n\n        if (subListInputs.length == subListCheckedInputs.length) {\n          inputEl.checked = true;\n          item.status = inputEl.checked;\n        } else {\n          inputEl.checked = false;\n          item.status = inputEl.checked;\n        }\n        toLocalStorage(baseData);\n\n        progressBar();\n      });\n    });\n\n    itemEl.append(subListEl);\n  }\n\n  if (!item.itemList) {\n    itemEl.classList.add(\"checkboxes__subitem\");\n    const linkEl = document.createElement(\"a\");\n    linkEl.textContent = \"Прочитать инструкцию\";\n    linkEl.setAttribute(\"href\", item.itemLink);\n    linkEl.setAttribute(\"target\", \"_blank\");\n    wrapperEl.append(linkEl);\n  }\n\n  return itemEl;\n};\n\n// editor\n\nconst editor = () => {\n  makeEditorItems(baseData);\n};\n\nconst makeEditorItems = (dataArr: IBaseData) => {\n  const sectionEl = document.querySelector(\".checkboxes__list\");\n  sectionEl.innerHTML = \"\";\n  dataArr.forEach((listItem) => {\n    sectionEl.append(makeEditorForm(listItem));\n  });\n\n  const createBtnEl = document.createElement(\"button\");\n  createBtnEl.classList.add(\"btn__create\");\n  createBtnEl.textContent = \"Создать новый элемент\";\n\n  createBtnEl.addEventListener(\"click\", () => {\n    baseData.push(baseEl());\n\n    toLocalStorage(baseData);\n\n    editor();\n  });\n\n  sectionEl.append(createBtnEl);\n};\n\nconst makeEditorForm = (item: IBaseDataObject) => {\n  const itemEl = document.createElement(\"li\");\n  const wrapperEl = document.createElement(\"div\");\n  const inputEl = document.createElement(\"input\");\n  inputEl.setAttribute(\"type\", \"text\");\n  inputEl.setAttribute(\"id\", item.itemId);\n  inputEl.setAttribute(\"name\", item.itemId);\n  inputEl.value = item.itemName;\n  const labelEl = document.createElement(\"label\");\n  labelEl.setAttribute(\"for\", item.itemId);\n  labelEl.textContent = \"Название:\";\n  const saveBtnEl = document.createElement(\"button\");\n  saveBtnEl.textContent = \"Сохранить\";\n  saveBtnEl.classList.add(\"item__transparent\");\n  saveBtnEl.disabled = true;\n  saveBtnEl.style.opacity = \"0\";\n  const delBtnEl = document.createElement(\"button\");\n  delBtnEl.classList.add(\"button\");\n  delBtnEl.textContent = \"Удалить\";\n  wrapperEl.append(labelEl, inputEl);\n  itemEl.append(wrapperEl);\n\n  if (item.itemList) {\n    itemEl.classList.add(\"checkboxes__item\", \"item\");\n    const subListEl = document.createElement(\"ul\");\n    subListEl.classList.add(\"checkboxes__sublist\");\n\n    inputEl.addEventListener(\"change\", () => {\n      saveBtnEl.disabled = false;\n      saveBtnEl.style.opacity = \"1\";\n    });\n\n    item.itemList.forEach((subItem) => {\n      subListEl.append(makeEditorForm(subItem));\n    });\n\n    saveBtnEl.addEventListener(\"click\", () => {\n      item.itemName = inputEl.value;\n      toLocalStorage(baseData);\n      saveBtnEl.disabled = true;\n      saveBtnEl.style.opacity = \"0\";\n    });\n\n    delBtnEl.addEventListener(\"click\", () => {\n      const answ = confirm(\"Вы уверены?\");\n      if (answ) {\n        itemEl.remove();\n        baseData = baseData.filter(\n          (dataItem) => dataItem.itemId !== item.itemId\n        );\n\n        toLocalStorage(baseData);\n\n        return;\n      }\n    });\n    itemEl.append(subListEl);\n    const createBtnEl = document.createElement(\"button\");\n    createBtnEl.classList.add(\"btn__create\");\n    createBtnEl.textContent = \"Создать новый сабэлемент\";\n    createBtnEl.addEventListener(\"click\", () => {\n      item.itemList.push(baseSubEl());\n\n      toLocalStorage(baseData);\n\n      editor();\n    });\n    itemEl.append(createBtnEl);\n  }\n\n  if (!item.itemList) {\n    itemEl.classList.add(\"checkboxes__subitem\");\n    const inputLinkEl = document.createElement(\"input\");\n    inputLinkEl.setAttribute(\"type\", \"text\");\n    inputLinkEl.setAttribute(\"id\", \"link-\" + item.itemId);\n    inputLinkEl.setAttribute(\"name\", \"link-\" + item.itemId);\n    inputLinkEl.value = item.itemLink;\n    const labelLinkEl = document.createElement(\"label\");\n    labelLinkEl.setAttribute(\"for\", \"link-\" + item.itemId);\n    labelLinkEl.textContent = \"Ссылка:\";\n    wrapperEl.append(labelLinkEl, inputLinkEl);\n\n    inputEl.addEventListener(\"change\", () => {\n      saveBtnEl.disabled = false;\n      saveBtnEl.style.opacity = \"1\";\n    });\n\n    inputLinkEl.addEventListener(\"change\", () => {\n      saveBtnEl.disabled = false;\n      saveBtnEl.style.opacity = \"1\";\n    });\n\n    saveBtnEl.addEventListener(\"click\", () => {\n      item.itemName = inputEl.value;\n      item.itemLink = inputLinkEl.value;\n      toLocalStorage(baseData);\n      saveBtnEl.disabled = true;\n      saveBtnEl.style.opacity = \"0\";\n    });\n\n    delBtnEl.addEventListener(\"click\", () => {\n      const answ = confirm(\"Вы уверены?\");\n\n      if (answ) {\n        itemEl.remove();\n        for (const dataItem of baseData) {\n          dataItem.itemList = dataItem.itemList.filter(\n            (dataSubItem) => dataSubItem.itemId !== item.itemId\n          );\n        }\n\n        toLocalStorage(baseData);\n\n        return;\n      }\n    });\n  }\n\n  wrapperEl.append(saveBtnEl, delBtnEl);\n\n  return itemEl;\n};\n\n// progressbar\n\nconst progressBar = () => {\n  const fillEl: HTMLDivElement = document.querySelector(\".progress__fill\");\n  const progressValueEl = document.querySelector(\".progress__value\");\n  const allSubCheckboxes = document.querySelectorAll(\n    '.checkboxes__sublist [type=\"checkbox\"]'\n  );\n  const allSubCheckedCheckboxes = document.querySelectorAll(\n    '.checkboxes__sublist [type=\"checkbox\"]:checked'\n  );\n  const percent =\n    (allSubCheckedCheckboxes.length / allSubCheckboxes.length) * 100;\n\n  progressValueEl.textContent = Math.round(percent).toString();\n  fillEl.style.width = percent.toString() + \"%\";\n};\n\n// utils\n\nconst toLocalStorage = (checkboxes: IBaseData) => {\n  localStorage.setItem(\"checkboxes\", JSON.stringify(checkboxes));\n};\n\nconst timeString = () => {\n  return Date.now().toString();\n};\n\nconst baseSubEl = () => ({\n  itemName: \"Базовое значение\",\n  itemId: \"idSub\" + timeString(),\n  status: false,\n  itemLink: \"https://www.google.com/\",\n  itemNew: true,\n});\n\nconst baseEl = () => ({\n  itemName: \"Базовое значение\",\n  itemId: \"id\" + timeString(),\n  status: false,\n  itemList: [baseSubEl()],\n  itemNew: true,\n});\n\nconst mockData: IBaseData = [\n  {\n    itemName: \"Подготовительные работы\",\n    itemId: \"jobs\",\n    status: false,\n    itemList: [\n      {\n        itemName: \"Подготовительные работы 1\",\n        itemId: \"jobs-1\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 2\",\n        itemId: \"jobs-2\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 3\",\n        itemId: \"jobs-3\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 4\",\n        itemId: \"jobs-4\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 5\",\n        itemId: \"jobs-5\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 6\",\n        itemId: \"jobs-6\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 7\",\n        itemId: \"jobs-7\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 8\",\n        itemId: \"jobs-8\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Подготовительные работы 9\",\n        itemId: \"jobs-9\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n        itemNew: true,\n      },\n      {\n        itemName: \"Подготовительные работы 10\",\n        itemId: \"jobs-10\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n        itemNew: true,\n      },\n    ],\n  },\n\n  {\n    itemName: \"SEO-аналитика\",\n    itemId: \"seo\",\n    status: false,\n    itemList: [\n      {\n        itemName: \"SEO-аналитика 1\",\n        itemId: \"seo-1\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"SEO-аналитика 2\",\n        itemId: \"seo-2\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"SEO-аналитика 3\",\n        itemId: \"seo-3\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n        itemNew: true,\n      },\n      {\n        itemName: \"SEO-аналитика 4\",\n        itemId: \"seo-4\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"SEO-аналитика 5\",\n        itemId: \"seo-5\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n        itemNew: true,\n      },\n    ],\n  },\n  {\n    itemName: \"Стратегия продвижения\",\n    itemId: \"strategy\",\n    status: false,\n    itemList: [\n      {\n        itemName: \"Стратегия продвижения 1\",\n        itemId: \"strategy-1\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n        itemNew: true,\n      },\n      {\n        itemName: \"Стратегия продвижения 2\",\n        itemId: \"strategy-2\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Стратегия продвижения 3\",\n        itemId: \"strategy-3\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Стратегия продвижения 4\",\n        itemId: \"strategy-4\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n      {\n        itemName: \"Стратегия продвижения 5\",\n        itemId: \"strategy-5\",\n        status: false,\n        itemLink: \"https://ru.wikipedia.org/\",\n      },\n    ],\n  },\n];\n","var baseData = JSON.parse(localStorage.getItem(\"checkboxes\"));\nwindow.addEventListener(\"DOMContentLoaded\", function () {\n    var switchEl = document.querySelector(\".switch input\");\n    var progress = document.querySelector(\".progress\");\n    if (!baseData) {\n        baseData = mockData;\n        toLocalStorage(mockData);\n    }\n    checkboxes();\n    switchEl.addEventListener(\"change\", function () {\n        if (switchEl.checked) {\n            editor();\n            progress.style.display = \"none\";\n        }\n        else {\n            checkboxes();\n            progress.style.display = \"block\";\n        }\n    });\n});\n// checkbox-list\nvar checkboxes = function () {\n    makeCheckboxList(baseData);\n    progressBar();\n};\nvar makeCheckboxList = function (dataArr) {\n    var sectionEl = document.querySelector(\".checkboxes__list\");\n    sectionEl.innerHTML = \"\";\n    dataArr.forEach(function (listItem) {\n        sectionEl.append(makeListItem(listItem));\n    });\n};\nvar makeListItem = function (item) {\n    var itemEl = document.createElement(\"li\");\n    var wrapperEl = document.createElement(\"div\");\n    var inputEl = document.createElement(\"input\");\n    inputEl.setAttribute(\"type\", \"checkbox\");\n    inputEl.setAttribute(\"id\", item.itemId);\n    inputEl.setAttribute(\"name\", item.itemId);\n    inputEl.checked = item.status;\n    var labelEl = document.createElement(\"label\");\n    labelEl.setAttribute(\"for\", item.itemId);\n    labelEl.textContent = item.itemName;\n    wrapperEl.append(inputEl, labelEl);\n    itemEl.append(wrapperEl);\n    if (item.itemNew) {\n        var newEl = document.createElement(\"span\");\n        newEl.classList.add(\"new\");\n        newEl.textContent = \"new\";\n        itemEl.append(newEl);\n    }\n    if (item.itemList) {\n        itemEl.classList.add(\"checkboxes__item\", \"item\");\n        var subListEl_1 = document.createElement(\"ul\");\n        subListEl_1.classList.add(\"checkboxes__sublist\", \"checkboxes__sublist--hide\");\n        var btnEl_1 = document.createElement(\"button\");\n        btnEl_1.textContent = \"Раскрыть\";\n        btnEl_1.classList.add(\"item__transparent\");\n        btnEl_1.addEventListener(\"click\", function () {\n            btnEl_1.innerText = btnEl_1.innerText == \"Раскрыть\" ? \"Скрыть\" : \"Раскрыть\";\n            subListEl_1.classList.toggle(\"checkboxes__sublist--hide\");\n        });\n        wrapperEl.append(btnEl_1);\n        item.itemList.forEach(function (subItem) {\n            subListEl_1.append(makeListItem(subItem));\n        });\n        var subListInputs_1 = subListEl_1.querySelectorAll('[type=\"checkbox\"]');\n        inputEl.addEventListener(\"change\", function () {\n            item.status = inputEl.checked;\n            subListInputs_1.forEach(function (subListInput, idx) {\n                item.itemList[idx].status = inputEl.checked;\n                subListInput.checked = inputEl.checked;\n            });\n            toLocalStorage(baseData);\n            progressBar();\n        });\n        subListInputs_1.forEach(function (subListInput, idx) {\n            subListInput.addEventListener(\"change\", function () {\n                var subListCheckedInputs = subListEl_1.querySelectorAll(\"input:checked\");\n                item.itemList[idx].status = subListInput.checked;\n                if (subListInputs_1.length == subListCheckedInputs.length) {\n                    inputEl.checked = true;\n                    item.status = inputEl.checked;\n                }\n                else {\n                    inputEl.checked = false;\n                    item.status = inputEl.checked;\n                }\n                toLocalStorage(baseData);\n                progressBar();\n            });\n        });\n        itemEl.append(subListEl_1);\n    }\n    if (!item.itemList) {\n        itemEl.classList.add(\"checkboxes__subitem\");\n        var linkEl = document.createElement(\"a\");\n        linkEl.textContent = \"Прочитать инструкцию\";\n        linkEl.setAttribute(\"href\", item.itemLink);\n        linkEl.setAttribute(\"target\", \"_blank\");\n        wrapperEl.append(linkEl);\n    }\n    return itemEl;\n};\n// editor\nvar editor = function () {\n    makeEditorItems(baseData);\n};\nvar makeEditorItems = function (dataArr) {\n    var sectionEl = document.querySelector(\".checkboxes__list\");\n    sectionEl.innerHTML = \"\";\n    dataArr.forEach(function (listItem) {\n        sectionEl.append(makeEditorForm(listItem));\n    });\n    var createBtnEl = document.createElement(\"button\");\n    createBtnEl.classList.add(\"btn__create\");\n    createBtnEl.textContent = \"Создать новый элемент\";\n    createBtnEl.addEventListener(\"click\", function () {\n        baseData.push(baseEl());\n        toLocalStorage(baseData);\n        editor();\n    });\n    sectionEl.append(createBtnEl);\n};\nvar makeEditorForm = function (item) {\n    var itemEl = document.createElement(\"li\");\n    var wrapperEl = document.createElement(\"div\");\n    var inputEl = document.createElement(\"input\");\n    inputEl.setAttribute(\"type\", \"text\");\n    inputEl.setAttribute(\"id\", item.itemId);\n    inputEl.setAttribute(\"name\", item.itemId);\n    inputEl.value = item.itemName;\n    var labelEl = document.createElement(\"label\");\n    labelEl.setAttribute(\"for\", item.itemId);\n    labelEl.textContent = \"Название:\";\n    var saveBtnEl = document.createElement(\"button\");\n    saveBtnEl.textContent = \"Сохранить\";\n    saveBtnEl.classList.add(\"item__transparent\");\n    saveBtnEl.disabled = true;\n    saveBtnEl.style.opacity = \"0\";\n    var delBtnEl = document.createElement(\"button\");\n    delBtnEl.classList.add(\"button\");\n    delBtnEl.textContent = \"Удалить\";\n    wrapperEl.append(labelEl, inputEl);\n    itemEl.append(wrapperEl);\n    if (item.itemList) {\n        itemEl.classList.add(\"checkboxes__item\", \"item\");\n        var subListEl_2 = document.createElement(\"ul\");\n        subListEl_2.classList.add(\"checkboxes__sublist\");\n        inputEl.addEventListener(\"change\", function () {\n            saveBtnEl.disabled = false;\n            saveBtnEl.style.opacity = \"1\";\n        });\n        item.itemList.forEach(function (subItem) {\n            subListEl_2.append(makeEditorForm(subItem));\n        });\n        saveBtnEl.addEventListener(\"click\", function () {\n            item.itemName = inputEl.value;\n            toLocalStorage(baseData);\n            saveBtnEl.disabled = true;\n            saveBtnEl.style.opacity = \"0\";\n        });\n        delBtnEl.addEventListener(\"click\", function () {\n            var answ = confirm(\"Вы уверены?\");\n            if (answ) {\n                itemEl.remove();\n                baseData = baseData.filter(function (dataItem) { return dataItem.itemId !== item.itemId; });\n                toLocalStorage(baseData);\n                return;\n            }\n        });\n        itemEl.append(subListEl_2);\n        var createBtnEl = document.createElement(\"button\");\n        createBtnEl.classList.add(\"btn__create\");\n        createBtnEl.textContent = \"Создать новый сабэлемент\";\n        createBtnEl.addEventListener(\"click\", function () {\n            item.itemList.push(baseSubEl());\n            toLocalStorage(baseData);\n            editor();\n        });\n        itemEl.append(createBtnEl);\n    }\n    if (!item.itemList) {\n        itemEl.classList.add(\"checkboxes__subitem\");\n        var inputLinkEl_1 = document.createElement(\"input\");\n        inputLinkEl_1.setAttribute(\"type\", \"text\");\n        inputLinkEl_1.setAttribute(\"id\", \"link-\" + item.itemId);\n        inputLinkEl_1.setAttribute(\"name\", \"link-\" + item.itemId);\n        inputLinkEl_1.value = item.itemLink;\n        var labelLinkEl = document.createElement(\"label\");\n        labelLinkEl.setAttribute(\"for\", \"link-\" + item.itemId);\n        labelLinkEl.textContent = \"Ссылка:\";\n        wrapperEl.append(labelLinkEl, inputLinkEl_1);\n        inputEl.addEventListener(\"change\", function () {\n            saveBtnEl.disabled = false;\n            saveBtnEl.style.opacity = \"1\";\n        });\n        inputLinkEl_1.addEventListener(\"change\", function () {\n            saveBtnEl.disabled = false;\n            saveBtnEl.style.opacity = \"1\";\n        });\n        saveBtnEl.addEventListener(\"click\", function () {\n            item.itemName = inputEl.value;\n            item.itemLink = inputLinkEl_1.value;\n            toLocalStorage(baseData);\n            saveBtnEl.disabled = true;\n            saveBtnEl.style.opacity = \"0\";\n        });\n        delBtnEl.addEventListener(\"click\", function () {\n            var answ = confirm(\"Вы уверены?\");\n            if (answ) {\n                itemEl.remove();\n                for (var _i = 0, baseData_1 = baseData; _i < baseData_1.length; _i++) {\n                    var dataItem = baseData_1[_i];\n                    dataItem.itemList = dataItem.itemList.filter(function (dataSubItem) { return dataSubItem.itemId !== item.itemId; });\n                }\n                toLocalStorage(baseData);\n                return;\n            }\n        });\n    }\n    wrapperEl.append(saveBtnEl, delBtnEl);\n    return itemEl;\n};\n// progressbar\nvar progressBar = function () {\n    var fillEl = document.querySelector(\".progress__fill\");\n    var progressValueEl = document.querySelector(\".progress__value\");\n    var allSubCheckboxes = document.querySelectorAll('.checkboxes__sublist [type=\"checkbox\"]');\n    var allSubCheckedCheckboxes = document.querySelectorAll('.checkboxes__sublist [type=\"checkbox\"]:checked');\n    var percent = (allSubCheckedCheckboxes.length / allSubCheckboxes.length) * 100;\n    progressValueEl.textContent = Math.round(percent).toString();\n    fillEl.style.width = percent.toString() + \"%\";\n};\n// utils\nvar toLocalStorage = function (checkboxes) {\n    localStorage.setItem(\"checkboxes\", JSON.stringify(checkboxes));\n};\nvar timeString = function () {\n    return Date.now().toString();\n};\nvar baseSubEl = function () { return ({\n    itemName: \"Базовое значение\",\n    itemId: \"idSub\" + timeString(),\n    status: false,\n    itemLink: \"https://www.google.com/\",\n    itemNew: true\n}); };\nvar baseEl = function () { return ({\n    itemName: \"Базовое значение\",\n    itemId: \"id\" + timeString(),\n    status: false,\n    itemList: [baseSubEl()],\n    itemNew: true\n}); };\nvar mockData = [\n    {\n        itemName: \"Подготовительные работы\",\n        itemId: \"jobs\",\n        status: false,\n        itemList: [\n            {\n                itemName: \"Подготовительные работы 1\",\n                itemId: \"jobs-1\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 2\",\n                itemId: \"jobs-2\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 3\",\n                itemId: \"jobs-3\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 4\",\n                itemId: \"jobs-4\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 5\",\n                itemId: \"jobs-5\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 6\",\n                itemId: \"jobs-6\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 7\",\n                itemId: \"jobs-7\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 8\",\n                itemId: \"jobs-8\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Подготовительные работы 9\",\n                itemId: \"jobs-9\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\",\n                itemNew: true\n            },\n            {\n                itemName: \"Подготовительные работы 10\",\n                itemId: \"jobs-10\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\",\n                itemNew: true\n            },\n        ]\n    },\n    {\n        itemName: \"SEO-аналитика\",\n        itemId: \"seo\",\n        status: false,\n        itemList: [\n            {\n                itemName: \"SEO-аналитика 1\",\n                itemId: \"seo-1\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"SEO-аналитика 2\",\n                itemId: \"seo-2\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"SEO-аналитика 3\",\n                itemId: \"seo-3\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\",\n                itemNew: true\n            },\n            {\n                itemName: \"SEO-аналитика 4\",\n                itemId: \"seo-4\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"SEO-аналитика 5\",\n                itemId: \"seo-5\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\",\n                itemNew: true\n            },\n        ]\n    },\n    {\n        itemName: \"Стратегия продвижения\",\n        itemId: \"strategy\",\n        status: false,\n        itemList: [\n            {\n                itemName: \"Стратегия продвижения 1\",\n                itemId: \"strategy-1\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\",\n                itemNew: true\n            },\n            {\n                itemName: \"Стратегия продвижения 2\",\n                itemId: \"strategy-2\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Стратегия продвижения 3\",\n                itemId: \"strategy-3\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Стратегия продвижения 4\",\n                itemId: \"strategy-4\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n            {\n                itemName: \"Стратегия продвижения 5\",\n                itemId: \"strategy-5\",\n                status: false,\n                itemLink: \"https://ru.wikipedia.org/\"\n            },\n        ]\n    },\n];\n"]}